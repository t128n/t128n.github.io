---
import PageRedirect from "@/components/page-redirect.astro";

interface LegacyRoute {
  oldSlug: string;
  newSlug: string;
}

// Legacy Page Support
export async function getStaticPaths() {
  const fallbackUrl = "rebooting-t128n-github-io-adcee";
  const legacyRoutes: LegacyRoute[] = [
    {
      oldSlug: "ascii",
      newSlug: fallbackUrl,
    },
    {
      oldSlug: "scratchpad",
      newSlug: fallbackUrl,
    },
    {
      oldSlug: "snippets",
      newSlug: fallbackUrl,
    },
    {
      oldSlug: "news",
      newSlug: fallbackUrl,
    },
    {
      oldSlug: "engineering-handbook",
      newSlug: fallbackUrl,
    },
  ];

  return legacyRoutes.map((route) => ({
    params: { slug: route.oldSlug },
    props: { route },
  }));
}

const { route } = Astro.props;
---

<PageRedirect route={`/blog/${route.newSlug}`} />
