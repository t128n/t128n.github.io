---
import PageRedirect from "@/components/page-redirect.astro";

interface LegacyRoute {
  oldSlug: string;
  newSlug: string;
}

// Legacy Page Support
export async function getStaticPaths() {
  const legacyRoutes: LegacyRoute[] = [
    {
      oldSlug: "2025-04-12_git_spoofing",
      newSlug: "gits-trust-model-is-broken-b671c",
    },
    {
      oldSlug: "2025-04-15_prompting_the_right_way",
      newSlug: "prompting-the-right-way-a2ed4",
    },
    {
      oldSlug: "2025-04-17_data_over_vibes",
      newSlug: "data-over-vibes-choosing-the-right-ai-tool-60519",
    },
    {
      oldSlug: "2025-04-17_micro_apps",
      newSlug: "micro-apps-as-workflow-scalpel-f9ab1",
    },
    {
      oldSlug: "2025-04-26_boring_technology",
      newSlug: "in-defense-of-boring-technology-0d6c7",
    },
    {
      oldSlug: "2025-05-02_optimizing_search_performance",
      newSlug: "client-side-search-routing-ai-b394d",
    },
    {
      oldSlug: "2025-05-23_fidup_lernzettel_fachinformatiker",
      newSlug: "ap2-lernzettel-fr-daten-und-prozessanalyse-18057",
    },
    {
      oldSlug: "2025-05-08_simplifying_cursor_installation_on_linux",
      newSlug: "simplifying-cursor-installation-on-linux-6b45d",
    },
  ];

  return legacyRoutes.map((route) => ({
    params: { slug: route.oldSlug },
    props: { route },
  }));
}

const { route } = Astro.props;
---

<PageRedirect route={`/blog/${route.newSlug}`} />
